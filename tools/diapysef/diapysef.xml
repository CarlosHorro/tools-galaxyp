<tool id="diapysef" name="diapysef" version="0.3.5.0">
    <description>
    DIA library generation
    </description>
    <requirements>
        <requirement type="package" version="0.3.5">diapysef</requirement>
        <requirement type="package" version="1.0.1">pandas</requirement>
    </requirements>
    <command detect_errors="aggressive">
    <![CDATA[

        msms = pd.read_csv('$input_msms', sep="\t")
        evidence = pd.read_csv('$input_evidence', sep="\t")
        irt = pd.read_csv('$input_irtassays', sep="\t")
        ptsv = dp.pasef_to_tsv(evidence, msms, irt_file=irt, ion_mobility=None, rt_alignment="linear")
        ptsv.to_tsv("$output", sep="\t", index=False)

    ]]>
    </command>
    <inputs>
        <param name="input_msms" type="data" format="tabular" label="msms.txt" help="From Maxquant output." />
        <param name="input_evidence" type="data" format="tabular" label="evidence.txt" help="From Maxquant output." />
        <param name="input_irtassays" type="data" format="tabular" label="iRTassays.txt" help="" />
    </inputs>
    <outputs>
        <data name="output" format="tabular" label="${tool.name} on ${on_string}: mqout.tabular" from_work_dir="mqout.tabular" />
    </outputs>
    <tests>
    </tests>
    <help>
<![CDATA[


Diapysef enables generating a DIA library. For more information: https://pypi.org/project/diapysef/

]]>
    </help>
    <citations>
    </citations>
</tool>
