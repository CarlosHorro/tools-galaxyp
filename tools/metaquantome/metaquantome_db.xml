<tool id="metaquantome_db" name="metaQuantome: download " version="@GVERSION@">
    <macros>
        <import>macros.xml</import>
    </macros>
    <expand macro="requirements" />
    <command detect_errors="exit_code"><![CDATA[
        mkdir -p data &&
        #for $d in $databases
          metaquantome db $d
          --dir data &&
        #end for
        tar --create --file $outfile data
    ]]></command>
    <inputs>
        <param name="databases" type="select" multiple="True" display="checkboxes"
          label="Databases to Download">
          <option value="ncbi" selected="true">NCBI Taxonomy Database</option>
          <option value="go" selected="true">Gene Ontology Database</option>
          <option value="ec" selected="true">Enzyme Commission (EC) database</option>
        </param>
    </inputs>
    <outputs>
        <data format="tar" name="outfile" label="metaquantome databases"/>
    </outputs>
    <tests>
      <!-- <test>
        <param name="databases" value="go,ec"/>
        <output name="outfile">
          <assert_contents>
            <has_text text="ontology: go"/>
            <has_text text="ontology: go/subsets/goslim_metagenomics"/>
            <has_text text="ENZYME"/>
          </assert_contents>
        </output>
      </test> -->
    </tests>
    <help>
<![CDATA[
metaQuantome db
===================

This module downloads the required databases and stores them in a single file, which can then
be accessed by the rest of the metaQuantome modules.

Questions, Comments, Problems, Kudos
------------------------------------

Please file any issues at https://github.com/galaxyproteomics/tools-galaxyp/issues.`
]]></help>
    <expand macro="citations" />
</tool>
